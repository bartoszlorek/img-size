"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(function(e,t){var n;n=function(){return function(){function e(){var e,t;this.q=[],this.add=function(e){this.q.push(e)},this.call=function(){for(e=0,t=this.q.length;t>e;e++)this.q[e].call()}}function t(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function n(n,r){if(n.resizedAttached){if(n.resizedAttached)return void n.resizedAttached.add(r)}else n.resizedAttached=new e,n.resizedAttached.add(r);n.resizeSensor=document.createElement("div"),n.resizeSensor.className="resize-sensor";var o="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;",s="position: absolute; left: 0; top: 0; transition: 0s;";n.resizeSensor.style.cssText=o,n.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+s+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+s+' width: 200%; height: 200%"></div></div>',n.appendChild(n.resizeSensor),"static"==t(n,"position")&&(n.style.position="relative");var a=n.resizeSensor.childNodes[0],l=a.childNodes[0],c=n.resizeSensor.childNodes[1],d=function(){l.style.width=1e5+"px",l.style.height=1e5+"px",a.scrollLeft=1e5,a.scrollTop=1e5,c.scrollLeft=1e5,c.scrollTop=1e5};d();var u=!1,f=function(){n.resizedAttached&&(u&&(n.resizedAttached.call(),u=!1),i(f))};i(f);var h,p,v,m,g=function(){((v=n.offsetWidth)!=h||(m=n.offsetHeight)!=p)&&(u=!0,h=v,p=m),d()},y=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};y(a,"scroll",g),y(c,"scroll",g)}var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},r=function(e,t){var i=Object.prototype.toString.call(e),r=this._isCollectionTyped="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"undefined"!=typeof jQuery&&e instanceof window.jQuery||"undefined"!=typeof Elements&&e instanceof window.Elements;if(this._element=e,r)for(var o=0,s=e.length;s>o;o++)n(e[o],t);else n(e,t)};return r.prototype.detach=function(){var e=this._isCollectionTyped,t=this._element;if(e)for(var n=0,i=t.length;i>n;n++)r.detach(t[n]);else r.detach(t)},r.detach=function(e){e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)},r}()},e.exports=n()}),i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var l=a()?Object.assign:function(e,t){for(var n,a,l=s(e),c=1;c<arguments.length;c++){for(var d in n=Object(arguments[c]))r.call(n,d)&&(l[d]=n[d]);if(i){a=i(n);for(var u=0;u<a.length;u++)o.call(n,a[u])&&(l[a[u]]=n[a[u]])}}return l};function c(e){return null==e?[]:void 0!==e.length?Array.prototype.slice.call(e):[e]}function d(e,t){if(null!=e&&null!=t)if(e.complete)t(e,e.naturalWidth,e.naturalHeight);else{var n=e.src||e;"string"==typeof e&&((e=new Image).src=n),e.onload=function(){t(e,e.naturalWidth,e.naturalHeight)}}}function u(e,t){return e.classList?e.classList.contains(t):!!(e.className.indexOf(t)>-1)}function f(e,t){e.classList?e.classList.add(t):u(e,t)||(e.className+=" "+t)}function h(e,t){if(e.classList)e.classList.remove(t);else if(u(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function p(e,t){var n=e.naturalWidth/e.naturalHeight,i=t.clientHeight*n,r=t.clientWidth/n;return{width:t.clientWidth-i,height:t.clientHeight-r}}function v(e){return function(t,n,i){var r=p(t,t.parentElement);return e(r,n,i)}}var m=v(function(e,t,n){return e.width>e.height?t:n}),g=v(function(e,t,n){return e.width<e.height?t:n});function y(e,t){var n=e.element,i=t.horizontal,r=t.vertical,o=(u(n,t.cover)?m:g)(n,i,r);u(n,o)||(h(n,i),h(n,r),f(n,o))}var w={horizontal:"img-size-h",vertical:"img-size-v",contain:"img-size-contain",cover:"img-size-cover"};function b(e){var t=l({},w,e),i=[],r=function(e){var r={element:e,handler:new n(e.parentNode,function(){return y(r,t)})};i.push(r)},o=function(e){for(var t=i.length;t--;){var n=i[t];if(n.element===e)return n.handler.detach(),n.handler=null,n.element=null,void i.splice(t,1)}},s={attach:function(e){return c(e).forEach(function(e){d(e,r)}),s},detach:function(e){return c(e).forEach(o),s}};return s}module.exports=b;
